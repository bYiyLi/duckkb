# 运行所有测试用例计划

## 测试概况

项目使用 pytest 运行测试，测试文件位于 `tests/` 目录。

### 测试文件列表（19 个）

| 文件 | 说明 |
|------|------|
| test_storage.py | 存储测试 |
| test_search.py | 搜索测试 |
| test_rwlock.py | 读写锁测试 |
| test_real_functional.py | 真实功能测试 |
| test_ontology.py | 本体测试 |
| test_mcp.py | MCP 测试 |
| test_index.py | 索引测试 |
| test_import.py | 导入测试 |
| test_graph.py | 图测试 |
| test_error_recovery.py | 错误恢复测试 |
| test_engine.py | 引擎测试 |
| test_duckdb_concurrency.py | DuckDB 并发测试 |
| test_db.py | 数据库测试 |
| test_embedding.py | 嵌入测试 |
| test_config.py | 配置测试 |
| test_concurrency.py | 并发测试 |
| test_cli.py | CLI 测试 |
| test_chunking.py | 分块测试 |
| test_tokenizer.py | 分词测试 |

## 执行计划

### 步骤 1：运行所有测试

```bash
uv run pytest tests/ -v
```

### 步骤 2：分析失败原因

如果有测试失败，分析失败原因并修复。

### 步骤 3：验证覆盖率

测试通过后，确认覆盖率是否达到 60% 的要求。

## 预期结果

- 所有测试通过
- 覆盖率 >= 60%
